{% extends "frontend/base.html" %}

{% block title %}{{ video.youtube_title|default:"Video" }}{% endblock %}

{% block content %}
<section class="section">
  <div class="container" style="max-width: 800px;">
    <div class="box">
      <div class="mb-4">
        <div class="video-container" style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
          <iframe 
            src="https://www.youtube.com/embed/{{ video.youtube_id }}"
            style="position:absolute;top:0;left:0;width:100%;height:100%;"
            frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
      <h2 class="title is-4 mt-4">{{ video.youtube_title|default:'Untitled Video' }}</h2>
      <div class="mb-4">
        <span class="has-text-grey">Channel:</span> {{ video.channel_name|default:'Unknown' }}
      </div>
      <div class="mb-4">
        <progress class="progress is-primary" value="{{ progress }}" max="100">{{ progress }}%</progress>
        <p class="is-size-7 has-text-grey">Progress: {{ progress }}% ({{ total_snippets }} snippets)</p>
      </div>
      {% if first_snippet %}
        <a href="{% url 'snippet_practice' pk=first_snippet.id %}" class="button is-primary is-large mb-4">Start Practice</a>
      {% endif %}
      <a href="/app/videos/" class="button is-text mt-4 ml-2">Back to list</a>
    </div>
  </div>
</section>
{% endblock %} 